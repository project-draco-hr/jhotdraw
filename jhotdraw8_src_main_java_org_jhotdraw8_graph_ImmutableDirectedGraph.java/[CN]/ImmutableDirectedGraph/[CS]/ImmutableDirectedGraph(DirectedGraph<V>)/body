{
  edgeCount=graph.getEdgeCount();
  final int vertexCapacity=graph.getVertexCount();
  this.vertices=new Object[vertexCapacity];
  this.edges=new HashMap<>(vertexCapacity);
  for (int a=0; a < vertexCapacity; a++) {
    V va=graph.getVertex(a);
    vertices[a]=va;
    final int nextCount=graph.getNextCount(va);
    if (nextCount > 0) {
      Object[] edgeList=new Object[nextCount];
      for (int i=0; i < nextCount; i++) {
        edgeList[i++]=graph.getNext(va,i);
      }
      edges.put(va,edgeList);
    }
  }
}
