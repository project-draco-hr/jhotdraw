{
  try {
    System.setProperty("java.net.useSystemProxies","true");
  }
 catch (  SecurityException ignoreException) {
  }
  Constructor<T> ctor=applicationClass.getDeclaredConstructor();
  if (!ctor.isAccessible()) {
    try {
      ctor.setAccessible(true);
    }
 catch (    SecurityException ignore) {
    }
  }
  T application=ctor.newInstance();
  ApplicationContext ctx=application.getContext();
  ctx.setApplicationClass(applicationClass);
  ctx.setApplication(application);
  ResourceMap appResourceMap=ctx.getResourceMap();
  appResourceMap.putResource("platform",platform());
  String key="Application.lookAndFeel";
  String lnfResource=appResourceMap.getString(key);
  String lnf=(lnfResource == null) ? "system" : lnfResource;
  try {
    if (lnf.equalsIgnoreCase("system")) {
      String name=UIManager.getSystemLookAndFeelClassName();
      UIManager.setLookAndFeel(name);
    }
 else     if (!lnf.equalsIgnoreCase("default")) {
      UIManager.setLookAndFeel(lnf);
    }
  }
 catch (  Exception e) {
    String s="Couldn't set LookandFeel " + key + " = \""+ lnfResource+ "\"";
    logger.log(Level.WARNING,s,e);
  }
  return application;
}
