{
  TextHolder textHolder=null;
  Figure pressedFigure=drawing().findFigureInside(x,y);
  if (pressedFigure instanceof TextHolder) {
    textHolder=(TextHolder)pressedFigure;
    if (!textHolder.acceptsTyping())     textHolder=null;
  }
  if (textHolder != null) {
    beginEdit(textHolder);
    return;
  }
  if (getTypingTarget() != null) {
    endEdit();
    editor().toolDone();
  }
 else {
    super.mouseDown(e,x,y);
    view().checkDamage();
    textHolder=(TextHolder)getCreatedFigure();
    beginEdit(textHolder);
  }
}
