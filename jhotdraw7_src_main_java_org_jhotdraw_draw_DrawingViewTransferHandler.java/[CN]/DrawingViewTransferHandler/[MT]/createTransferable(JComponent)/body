{
  if (DEBUG)   System.out.println(this + ".createTransferable");
  Transferable retValue;
  if (c instanceof DrawingView) {
    DrawingView view=(DrawingView)c;
    Drawing drawing=view.getDrawing();
    if (drawing.getOutputFormats() == null || drawing.getOutputFormats().size() == 0) {
      retValue=null;
    }
 else {
      java.util.List<Figure> toBeCopied=drawing.sort(view.getSelectedFigures());
      if (toBeCopied.size() > 0) {
        try {
          CompositeTransferable transfer=new CompositeTransferable();
          for (          OutputFormat format : drawing.getOutputFormats()) {
            Transferable t=format.createTransferable(toBeCopied,view.getScaleFactor());
            if (!transfer.isDataFlavorSupported(t.getTransferDataFlavors()[0])) {
              transfer.add(t);
            }
          }
          retValue=transfer;
        }
 catch (        IOException e) {
          if (DEBUG)           e.printStackTrace();
          retValue=null;
        }
      }
 else {
        retValue=null;
      }
    }
  }
 else {
    retValue=super.createTransferable(c);
  }
  return retValue;
}
