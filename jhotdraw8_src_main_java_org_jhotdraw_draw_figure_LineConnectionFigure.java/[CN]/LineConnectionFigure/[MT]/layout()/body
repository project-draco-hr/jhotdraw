{
  Point2D start=get(START);
  Point2D end=get(END);
  Connector startConnector=get(START_CONNECTOR);
  Connector endConnector=get(END_CONNECTOR);
  if (startConnector != null) {
    start=startConnector.getPositionInWorld(this);
  }
  if (endConnector != null) {
    end=endConnector.getPositionInWorld(this);
  }
  if (startConnector != null) {
    set(START,worldToParent(startConnector.chopStart(this,start,end)));
  }
  if (endConnector != null) {
    set(END,worldToParent(endConnector.chopEnd(this,start,end)));
  }
}
