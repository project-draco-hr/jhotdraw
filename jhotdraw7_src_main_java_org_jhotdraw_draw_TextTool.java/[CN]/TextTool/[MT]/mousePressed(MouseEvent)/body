{
  TextHolder textHolder=null;
  Figure pressedFigure=getDrawing().findFigureInside(getView().viewToDrawing(new Point(e.getX(),e.getY())));
  if (pressedFigure instanceof TextHolder) {
    textHolder=((TextHolder)pressedFigure).getLabelFor();
    if (!textHolder.isEditable())     textHolder=null;
  }
  if (textHolder != null) {
    beginEdit(textHolder);
    return;
  }
  if (typingTarget != null) {
    endEdit();
    fireToolDone();
  }
 else {
    super.mousePressed(e);
    textHolder=(TextHolder)getCreatedFigure();
    beginEdit(textHolder);
  }
}
