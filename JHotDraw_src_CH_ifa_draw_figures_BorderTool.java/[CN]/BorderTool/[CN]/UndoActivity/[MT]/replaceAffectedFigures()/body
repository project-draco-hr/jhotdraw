{
  FigureEnumeration fe=getAffectedFigures();
  if (!fe.hasMoreElements()) {
    return false;
  }
  Figure oldFigure=fe.nextFigure();
  if (!fe.hasMoreElements()) {
    return false;
  }
  Figure replaceFigure=fe.nextFigure();
  replaceFigure=getDrawingView().drawing().replace(oldFigure,replaceFigure);
  Vector v=new Vector();
  v.addElement(replaceFigure);
  v.addElement(oldFigure);
  setAffectedFigures(new FigureEnumerator(v));
  return true;
}
