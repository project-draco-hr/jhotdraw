{
  DataFlavor plainFlavor=null;
  DataFlavor refFlavor=null;
  DataFlavor stringFlavor=null;
  if (c instanceof JEditorPane) {
    for (int i=0; i < flavors.length; i++) {
      String mime=flavors[i].getMimeType();
      if (mime.startsWith(((JEditorPane)c).getEditorKit().getContentType())) {
        return flavors[i];
      }
 else       if (plainFlavor == null && mime.startsWith("text/plain")) {
        plainFlavor=flavors[i];
      }
 else       if (refFlavor == null && mime.startsWith("application/x-java-jvm-local-objectref") && flavors[i].getRepresentationClass() == java.lang.String.class) {
        refFlavor=flavors[i];
      }
 else       if (stringFlavor == null && flavors[i].equals(DataFlavor.stringFlavor)) {
        stringFlavor=flavors[i];
      }
    }
    if (plainFlavor != null) {
      return plainFlavor;
    }
 else     if (refFlavor != null) {
      return refFlavor;
    }
 else     if (stringFlavor != null) {
      return stringFlavor;
    }
    return null;
  }
  for (int i=0; i < flavors.length; i++) {
    String mime=flavors[i].getMimeType();
    if (mime.startsWith("text/plain")) {
      return flavors[i];
    }
 else     if (refFlavor == null && mime.startsWith("application/x-java-jvm-local-objectref") && flavors[i].getRepresentationClass() == java.lang.String.class) {
      refFlavor=flavors[i];
    }
 else     if (stringFlavor == null && flavors[i].equals(DataFlavor.stringFlavor)) {
      stringFlavor=flavors[i];
    }
  }
  if (refFlavor != null) {
    return refFlavor;
  }
 else   if (stringFlavor != null) {
    return stringFlavor;
  }
  return null;
}
