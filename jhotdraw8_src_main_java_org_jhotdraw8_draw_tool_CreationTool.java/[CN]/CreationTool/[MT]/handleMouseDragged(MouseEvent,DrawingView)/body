{
  if (figure != null) {
    x2=event.getX();
    y2=event.getY();
    Point2D c1=dv.getConstrainer().constrainPoint(figure,dv.viewToDrawing(x1,y1));
    Point2D c2=dv.getConstrainer().constrainPoint(figure,dv.viewToDrawing(x2,y2));
    double newWidth=c2.getX() - c1.getX();
    double newHeight=c2.getY() - c1.getY();
    boolean keepAspect=event.isShiftDown();
    if (keepAspect) {
      double preferredAspectRatio=figure.getPreferredAspectRatio();
      double newRatio=newHeight / newWidth;
      if (newRatio > preferredAspectRatio) {
        newHeight=newWidth * preferredAspectRatio;
      }
 else {
        newWidth=newHeight / preferredAspectRatio;
      }
    }
    DrawingModel dm=dv.getModel();
    dm.reshape(figure,c1.getX(),c1.getY(),newWidth,newHeight);
  }
  event.consume();
}
