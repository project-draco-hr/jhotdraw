{
  if (!names.hasNext()) {
    return root;
  }
 else {
    String bundleName0=names.next();
    String rmBundlePackage=bundlePackageName(bundleName0);
    List<String> rmNames=new ArrayList<String>();
    rmNames.add(bundleName0);
    while (names.hasNext()) {
      String bundleName=names.next();
      if (rmBundlePackage.equals(bundlePackageName(bundleName))) {
        rmNames.add(bundleName);
      }
 else {
        names.previous();
        break;
      }
    }
    ResourceMap parent=createResourceMapChain(cl,root,names);
    return createResourceMap(cl,parent,rmNames);
  }
}
