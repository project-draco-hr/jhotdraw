{
  if (isUpdatingSlider++ == 0) {
    if (getView() == null || attributeKey == null) {
      setValue(0);
    }
 else {
      Double sliderValue=null;
      boolean isFirst=true;
      isMultipleValues=false;
      for (      Figure f : getView().getSelectedFigures()) {
        if (isFirst) {
          isFirst=false;
          sliderValue=attributeKey.get(f);
        }
 else {
          Double figureValue=attributeKey.get(f);
          if (figureValue == sliderValue || figureValue != null && sliderValue != null && figureValue.equals(sliderValue)) {
          }
 else {
            sliderValue=null;
            isMultipleValues=true;
          }
        }
      }
      if (sliderValue != null) {
        setValue((int)(sliderValue * scaleFactor));
      }
    }
    repaint();
  }
  isUpdatingSlider--;
}
