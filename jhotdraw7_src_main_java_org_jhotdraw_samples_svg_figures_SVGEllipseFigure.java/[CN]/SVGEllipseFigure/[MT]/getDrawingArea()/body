{
  Rectangle2D rx=getTransformedShape().getBounds2D();
  Rectangle2D.Double r=(rx instanceof Rectangle2D.Double) ? (Rectangle2D.Double)rx : new Rectangle2D.Double(rx.getX(),rx.getY(),rx.getWidth(),rx.getHeight());
  if (TRANSFORM.get(this) == null) {
    double g=SVGAttributeKeys.getPerpendicularHitGrowth(this) * 2d + 1;
    Geom.grow(r,g,g);
  }
 else {
    double strokeTotalWidth=AttributeKeys.getStrokeTotalWidth(this);
    double width=strokeTotalWidth / 2d;
    width*=Math.max(TRANSFORM.get(this).getScaleX(),TRANSFORM.get(this).getScaleY()) + 1;
    Geom.grow(r,width,width);
  }
  return r;
}
