{
  JComponent rootPane=c.getRootPane();
  Object k="SingleFrameApplication.initRootPaneContainer";
  if (rootPane.getClientProperty(k) != null) {
    return;
  }
  rootPane.putClientProperty(k,Boolean.TRUE);
  Container root=rootPane.getParent();
  if (root instanceof Window) {
    configureWindow((Window)root);
  }
  JFrame mainFrame=getMainFrame();
  if (c == mainFrame) {
    mainFrame.addWindowListener(new MainFrameListener());
    mainFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
  }
 else   if (root instanceof Window) {
    Window window=(Window)root;
    window.addHierarchyListener(new SecondaryWindowListener());
  }
  if (root instanceof JFrame) {
    root.addComponentListener(new FrameBoundsListener());
  }
  if ((root instanceof Window) && ((root.getWidth() == 0) || (root.getHeight() == 0))) {
    Window window=(Window)root;
    window.pack();
    if (!window.isLocationByPlatform()) {
      Component owner=(c != mainFrame) ? mainFrame : null;
      window.setLocationRelativeTo(owner);
    }
  }
  if (root instanceof Window) {
    String filename=sessionFilename((Window)root);
    if (filename != null) {
      try {
        getContext().getSessionStorage().restore(root,filename);
      }
 catch (      Exception e) {
        String msg=String.format("couldn't restore sesssion [%s]",filename);
        logger.log(Level.WARNING,msg,e);
      }
    }
  }
}
