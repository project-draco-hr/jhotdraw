{
  final Application app=getApplication();
  if (evt instanceof ApplicationEvent) {
    final ApplicationEvent ae=(ApplicationEvent)evt;
    final View p=app.createView();
    p.setEnabled(false);
    app.add(p);
    p.execute(new Worker(){
      public Object construct() throws IOException {
        p.read(ae.getFile());
        return null;
      }
      @Override protected void done(      Object value){
        p.setFile(ae.getFile());
        p.setEnabled(true);
      }
      @Override protected void failed(      Throwable value){
        app.dispose(p);
        JOptionPane.showMessageDialog(null,"<html>" + UIManager.getString("OptionPane.css") + "<b>Can't open file "+ ae.getFile()+ "</b><p>"+ value,"",JOptionPane.ERROR_MESSAGE);
      }
    }
);
  }
}
