{
  this.resourceMap=resourceMap;
  if ((prefix == null) || (prefix.length() == 0)) {
    resourcePrefix="";
  }
 else   if (prefix.endsWith(".")) {
    resourcePrefix=prefix;
  }
 else {
    resourcePrefix=prefix + ".";
  }
  if (resourceMap != null) {
    title=resourceMap.getString(resourceName("title"));
    description=resourceMap.getString(resourceName("description"));
    message=resourceMap.getString(resourceName("message"));
    if (message != null) {
      messageTime=System.currentTimeMillis();
    }
  }
  addPropertyChangeListener(new StatePCL());
  taskListeners=new CopyOnWriteArrayList<TaskListener<T,V>>();
}
