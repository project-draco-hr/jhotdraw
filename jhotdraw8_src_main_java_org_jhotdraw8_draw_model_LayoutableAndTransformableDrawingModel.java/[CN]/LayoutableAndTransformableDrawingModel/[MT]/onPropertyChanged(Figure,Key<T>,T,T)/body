{
{
    if (key instanceof FigureKey && ((FigureKey<?>)key).getDirtyMask().containsOneOf(DirtyBits.LAYOUT_SUBJECT)) {
      layoutSubjectChange.clear();
      layoutSubjectChange.addAll(figure.getLayoutSubjects());
    }
  }
{
    fire(DrawingModelEvent.propertyValueChanged(this,figure,(Key<Object>)key,oldValue,newValue));
    if (key instanceof FigureKey && ((FigureKey<?>)key).getDirtyMask().containsOneOf(DirtyBits.LAYOUT_SUBJECT)) {
      fire(DrawingModelEvent.layoutSubjectChanged(this,figure));
      layoutSubjectChange.addAll(figure.getLayoutSubjects());
      for (      Figure f : new ArrayList<>(layoutSubjectChange)) {
        fire(DrawingModelEvent.layoutSubjectChanged((DrawingModel)this,f));
      }
      layoutSubjectChange.clear();
    }
  }
}
