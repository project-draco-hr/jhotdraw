{
  fIconkit=new Iconkit(this);
  getContentPane().setLayout(new BorderLayout());
  JPanel fullPanel=new JPanel();
  fullPanel.setLayout(new BoxLayout(fullPanel,BoxLayout.X_AXIS));
  fView=createDrawingView();
  JComponent contents=createContents((StandardDrawingView)view());
  contents.setAlignmentX(LEFT_ALIGNMENT);
  JToolBar tools=createToolPalette();
  createTools(tools);
  JPanel activePanel=new JPanel();
  activePanel.setAlignmentX(LEFT_ALIGNMENT);
  activePanel.setAlignmentY(TOP_ALIGNMENT);
  activePanel.setLayout(new BorderLayout());
  activePanel.add(tools,BorderLayout.NORTH);
  activePanel.add(contents,BorderLayout.CENTER);
  fullPanel.add(activePanel);
  fStatusLine=createStatusLine();
  getContentPane().add(fullPanel,BorderLayout.CENTER);
  getContentPane().add(fStatusLine,BorderLayout.SOUTH);
  JMenuBar mb=new JMenuBar();
  createMenus(mb);
  setJMenuBar(mb);
  initDrawing();
  Dimension d=defaultSize();
  if (d.width > mb.getPreferredSize().width) {
    setSize(d.width,d.height);
  }
 else {
    setSize(mb.getPreferredSize().width,d.height);
  }
  addListeners();
  setVisible(true);
  fStorageFormatManager=createStorageFormatManager();
}
