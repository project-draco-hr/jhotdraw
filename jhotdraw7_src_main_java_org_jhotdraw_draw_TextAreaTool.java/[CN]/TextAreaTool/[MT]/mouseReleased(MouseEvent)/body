{
  if (createdFigure != null) {
    TextHolder textHolder=(TextHolder)createdFigure;
    Rectangle2D.Double bounds=createdFigure.getBounds();
    if (bounds.width == 0 && bounds.height == 0) {
      getDrawing().remove(createdFigure);
    }
 else {
      if (bounds.width < 5 && bounds.height < 5) {
        createdFigure.willChange();
        createdFigure.basicSetBounds(new Point2D.Double(bounds.x,bounds.y),new Point2D.Double(bounds.x + 100,bounds.y + 100));
        createdFigure.changed();
      }
      getView().addToSelection(createdFigure);
    }
    if (createdFigure instanceof CompositeFigure) {
      ((CompositeFigure)createdFigure).layout();
    }
    createdFigure=null;
    getDrawing().fireUndoableEditHappened(creationEdit);
    beginEdit(textHolder);
  }
}
