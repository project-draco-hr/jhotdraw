{
  Preferences prefs=Preferences.userNodeForPackage(getClass());
  parentFrame=new JFrame(getResourceMap().getString("Application.name"));
  parentFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
  scrollPane=new JScrollPane();
  scrollPane.setViewportView(getDesktopPane());
  toolBarActions=new LinkedList<Action>();
  createActionMap();
  parentFrame.getContentPane().add(wrapDesktopPane(scrollPane,toolBarActions));
  parentFrame.addWindowListener(new WindowAdapter(){
    public void windowClosing(    final WindowEvent evt){
      getAction(ExitAction.ID).actionPerformed(new ActionEvent(parentFrame,ActionEvent.ACTION_PERFORMED,"windowClosing"));
    }
  }
);
  parentFrame.setJMenuBar(createMenuBar(null,new LinkedList<javax.swing.Action>()));
  PreferencesUtil.installFramePrefsHandler(prefs,"parentFrame",parentFrame);
  parentFrame.setVisible(true);
}
