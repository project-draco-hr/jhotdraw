{
  if (w == 0 || h == 0) {
    return null;
  }
  WritableRaster raster=saved;
  if (raster == null || raster.getWidth() < w || raster.getHeight() < h) {
    raster=getCachedRaster(dataModel,w,h);
    saved=raster;
  }
  DataBufferInt rasterDB=(DataBufferInt)raster.getDataBuffer();
  int[] pixels=rasterDB.getBankData()[0];
  int off=rasterDB.getOffset();
  int scanlineStride=((SinglePixelPackedSampleModel)raster.getSampleModel()).getScanlineStride();
  int adjust=scanlineStride - w;
  fillRaster(pixels,off,adjust,x,y,w,h);
  GraphicsUtil.coerceData(raster,dataModel,model.isAlphaPremultiplied());
  return raster;
}
