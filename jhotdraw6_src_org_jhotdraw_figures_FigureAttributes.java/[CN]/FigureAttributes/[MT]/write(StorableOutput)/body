{
  dw.writeString("attributes");
  dw.writeInt(fMap.size());
  Enumeration k=fMap.keys();
  while (k.hasMoreElements()) {
    String s=(String)k.nextElement();
    Object v=fMap.get(s);
    dw.writeString(s);
    if (v instanceof String) {
      dw.writeString("String");
      dw.writeString((String)v);
    }
 else     if (v instanceof Color) {
      writeColor(dw,"Color",(Color)v);
    }
 else     if (v instanceof Boolean) {
      dw.writeString("Boolean");
      if (((Boolean)v).booleanValue()) {
        dw.writeString("TRUE");
      }
 else {
        dw.writeString("FALSE");
      }
    }
 else     if (v instanceof Integer) {
      dw.writeString("Int");
      dw.writeInt(((Integer)v).intValue());
    }
 else     if (v instanceof Storable) {
      dw.writeString("Storable");
      dw.writeStorable((Storable)v);
    }
 else     if (v instanceof javax.swing.JPopupMenu) {
      dw.writeString(Figure.POPUP_MENU);
    }
 else {
      System.err.println("Unknown attribute: " + v);
      dw.writeString("UNKNOWN");
    }
  }
}
