{
  super.init();
  ResourceBundleUtil.putPropertyNameModifier("os","mac","default");
  prefs=PreferencesUtil.userNodeForPackage((getModel() == null) ? getClass() : getModel().getClass());
  initLookAndFeel();
  paletteHandler=new OSXPaletteHandler(this);
  initLabels();
  ApplicationModel m=getModel();
  paletteActions=new LinkedList<Action>();
  setActionMap(createModelActionMap(model));
  initPalettes(paletteActions);
  initScreenMenuBar();
  model.initApplication(this);
}
