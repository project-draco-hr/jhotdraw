{
  Point2D oldPoint=new Point2D(0,0);
  Point2D newPoint=getLocalToWorld().createConcatenation(transform).transform(oldPoint);
  for (  Figure child : getChildren()) {
    Transform p2c=child.getParentToLocal();
    if (p2c.isIdentity()) {
      child.reshape(transform);
    }
 else     if (child instanceof TransformableFigure) {
      TransformableFigure tchild=(TransformableFigure)child;
      if (transform instanceof Translate) {
        MoveHandle.translateFigure(child,oldPoint,newPoint,null);
      }
 else {
        tchild.reshape(p2c.createConcatenation(transform));
      }
    }
  }
}
