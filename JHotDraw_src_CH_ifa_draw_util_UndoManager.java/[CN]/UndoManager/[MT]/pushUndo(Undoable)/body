{
  if (undoActivity.isUndoable()) {
    if (getUndoSize() >= maxStackCapacity) {
      undoStack.removeElementAt(0);
    }
    undoStack.addElement(undoActivity);
  }
 else {
    undoStack=new Vector(maxStackCapacity);
  }
}
