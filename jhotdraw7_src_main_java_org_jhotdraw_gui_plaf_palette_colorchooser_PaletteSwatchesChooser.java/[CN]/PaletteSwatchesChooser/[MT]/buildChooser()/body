{
  initComponents();
  setUI(PalettePanelUI.createUI(this));
  jList.setUI((ListUI)PaletteListUI.createUI(jList));
  jList.setListData(HSB_COLORS_AS_RGB.toArray());
  jList.setVisibleRowCount(HSB_COLORS_AS_RGB.size() / HSB_COLORS_AS_RGB_COLUMN_COUNT);
  jList.addListSelectionListener(new ListSelectionListener(){
    @Override public void valueChanged(    ListSelectionEvent e){
      if (updateRecursion++ == 0) {
        ColorIcon item=(ColorIcon)jList.getSelectedValue();
        setColorToModel(item == null ? null : item.getColor());
      }
      updateRecursion--;
    }
  }
);
}
