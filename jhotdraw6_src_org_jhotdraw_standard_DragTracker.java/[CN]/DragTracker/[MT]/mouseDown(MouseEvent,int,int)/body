{
  super.mouseDown(e,x,y);
  fLastX=x;
  fLastY=y;
  if (e.isShiftDown()) {
    getActiveView().toggleSelection(fAnchorFigure);
    fAnchorFigure=null;
  }
 else   if (!getActiveView().isFigureSelected(fAnchorFigure)) {
    getActiveView().clearSelection();
    getActiveView().addToSelection(fAnchorFigure);
  }
  setUndoActivity(createUndoActivity());
  getUndoActivity().setAffectedFigures(getActiveView().selection());
}
