{
  initComponents();
  opacitySlider=new JAttributeSlider(JSlider.VERTICAL,0,100,100);
  opacityPopupButton.add(opacitySlider);
  opacityPopupButton.putClientProperty("JButton.buttonType","toolbar");
  add(opacityPopupButton);
  NumberFormatter nf=new NumberFormatter();
  nf.setMaximum(1d);
  nf.setMinimum(0d);
  opacityField.setFormatterFactory(ScalableNumberFormatter.createFormatterFactory(0d,100d,100d));
  opacityFieldHandler=new FigureAttributeEditorHandler(OPACITY,opacityField,editor);
  opacitySliderHandler=new FigureAttributeEditorHandler(OPACITY,opacitySlider,editor);
  linkFieldHandler=new FigureAttributeEditorHandler(LINK,linkField,editor);
  Font font=getFont().deriveFont(11f);
  for (  Component c : getComponents()) {
    c.setFont(font);
  }
  opacitySlider.setFont(font);
}
