{
  if (cachedBounds == null) {
    if (getCanvasSize() != null) {
      cachedBounds=new Rectangle2D.Double(0,0,getCanvasSize().width,getCanvasSize().height);
    }
 else {
      if (children.size() == 0) {
        cachedBounds=new Rectangle2D.Double();
      }
 else {
        for (        Figure f : children) {
          if (cachedBounds == null) {
            cachedBounds=f.getBounds();
          }
 else {
            cachedBounds.add(f.getBounds());
          }
        }
      }
    }
  }
  return (Rectangle2D.Double)cachedBounds.clone();
}
