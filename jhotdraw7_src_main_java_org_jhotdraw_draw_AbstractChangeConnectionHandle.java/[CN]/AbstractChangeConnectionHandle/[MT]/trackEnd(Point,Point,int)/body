{
  ConnectionFigure cf=(ConnectionFigure)getOwner();
  if (cf.getLiner() == null && (modifiersEx & (InputEvent.META_DOWN_MASK | InputEvent.CTRL_DOWN_MASK)) != 0 && (modifiersEx & InputEvent.BUTTON2_DOWN_MASK) == 0) {
    int index=getBezierNodeIndex();
    BezierFigure f=getBezierFigure();
    f.willChange();
    BezierPath.Node v=f.getNode(index);
    if (index > 0 && index < f.getNodeCount() || f.isClosed()) {
      v.mask=(v.mask + 3) % 4;
    }
 else     if (index == 0) {
      v.mask=((v.mask & BezierPath.C2_MASK) == 0) ? BezierPath.C2_MASK : 0;
    }
 else {
      v.mask=((v.mask & BezierPath.C1_MASK) == 0) ? BezierPath.C1_MASK : 0;
    }
    f.basicSetNode(index,v);
    f.changed();
    fireHandleRequestSecondaryHandles();
  }
  Point2D.Double p=view.viewToDrawing(lead);
  view.getConstrainer().constrainPoint(p);
  Connector target=findConnectionTarget(p,view.getDrawing());
  if (target == null) {
    target=originalTarget;
  }
  setLocation(p);
  if (target != originalTarget) {
    disconnect();
    connect(target);
  }
  connection.basicSetLiner(liner);
  getConnection().updateConnection();
  if (getTargetFigure() != null) {
    getTargetFigure().setConnectorsVisible(false,null);
    setTargetFigure(null);
  }
}
