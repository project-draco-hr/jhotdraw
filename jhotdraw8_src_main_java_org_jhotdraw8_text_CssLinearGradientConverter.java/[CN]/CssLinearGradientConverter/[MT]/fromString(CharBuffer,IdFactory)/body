{
  CssTokenizerInterface tt=new CssTokenizer(new StringReader(in.toString()));
  tt.setSkipWhitespace(true);
  if (tt.nextToken() == CssTokenizer.TT_IDENT) {
    if ("none".equals(tt.currentStringValue())) {
      in.position(in.limit());
      return null;
    }
 else {
      throw new ParseException("CSS LinearGradient: \"<none>\" or \"<linear-gradient>(\"  expected",tt.getPosition());
    }
  }
  if (tt.currentToken() != CssTokenizer.TT_FUNCTION) {
    throw new ParseException("CSS LinearGradient: \"<linear-gradient>(\"  expected",tt.getPosition());
  }
  boolean isLinear=false;
  String func;
switch (tt.currentStringValue()) {
case "linear-gradient":
    isLinear=true;
  break;
default :
throw new ParseException("CSS LinearGradient: \"<linear-gradient>(\"  expected, found: " + tt.currentStringValue(),tt.getPosition());
}
boolean needComma=false;
double startX=0.0;
double startY=0.0;
double endX=1.0;
double endY=0.0;
if (tt.nextToken() == CssTokenizer.TT_IDENT && "from".equals(tt.currentStringValue())) {
if (tt.nextToken() != CssTokenizer.TT_NUMBER) {
throw new ParseException("CSS LinearGradient: start-x expected, found: " + tt.currentStringValue() + " ttype:"+ tt.currentToken(),tt.getPosition());
}
startX=tt.currentNumericValue().doubleValue();
if (tt.nextToken() != CssTokenizer.TT_NUMBER) {
throw new ParseException("CSS LinearGradient: start-y expected, found: " + tt.currentStringValue(),tt.getPosition());
}
startY=tt.currentNumericValue().doubleValue();
needComma=true;
}
 else {
tt.pushBack();
}
if (tt.nextToken() == CssTokenizer.TT_IDENT && "to".equals(tt.currentStringValue())) {
if (tt.nextToken() != CssTokenizer.TT_NUMBER) {
throw new ParseException("CSS LinearGradient: start-x expected, found: " + tt.currentStringValue(),tt.getPosition());
}
startX=tt.currentNumericValue().doubleValue();
if (tt.nextToken() != CssTokenizer.TT_NUMBER) {
throw new ParseException("CSS LinearGradient: start-y expected, found: " + tt.currentStringValue(),tt.getPosition());
}
startY=tt.currentNumericValue().doubleValue();
needComma=true;
}
 else {
tt.pushBack();
}
if (needComma) {
if (tt.nextToken() != ',') {
throw new ParseException("CSS LinearGradient: ','  expected, found: " + tt.currentStringValue(),tt.getPosition());
}
needComma=false;
}
CycleMethod cycleMethod=CycleMethod.NO_CYCLE;
if (tt.nextToken() == CssTokenizer.TT_IDENT) {
if ("repeat".equals(tt.currentStringValue())) {
cycleMethod=CycleMethod.REPEAT;
needComma=true;
}
 else if ("reflect".equals(tt.currentStringValue())) {
cycleMethod=CycleMethod.REFLECT;
needComma=true;
}
 else {
tt.pushBack();
}
}
 else {
tt.pushBack();
}
if (needComma) {
if (tt.nextToken() != ',') {
throw new ParseException("CSS LinearGradient: ','  expected, found: " + tt.currentStringValue(),tt.getPosition());
}
needComma=false;
}
if (tt.nextToken() != ')') {
throw new ParseException("CSS LinearGradient: ')'  expected, found: " + tt.currentStringValue(),tt.getPosition());
}
return null;
}
