{
  Drawing oldDrawing=child.getDrawing();
  if (child.getParent() != null) {
    child.getParent().remove(child);
  }
  parent.getChildren().add(index,child);
  fire(DrawingModelEvent.figureAddedToParent(this,parent,child,index));
  fire(DrawingModelEvent.nodeInvalidated(this,parent));
  Drawing newDrawing=child.getDrawing();
  if (oldDrawing != newDrawing) {
    if (oldDrawing != null) {
      fire(DrawingModelEvent.figureRemovedFromDrawing(this,oldDrawing,child));
    }
    if (newDrawing != null) {
      fire(DrawingModelEvent.figureAddedToDrawing(this,newDrawing,child));
    }
  }
}
