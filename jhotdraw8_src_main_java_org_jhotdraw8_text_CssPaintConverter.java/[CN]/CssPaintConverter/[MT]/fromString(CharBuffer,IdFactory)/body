{
  try {
    String str=buf.toString().trim().toLowerCase(Locale.ROOT);
    Paint c;
    c=nameColors.get(str);
    if (c != null) {
      buf.position(buf.limit());
      return c;
    }
    if ("none".equals(str)) {
      c=null;
    }
 else {
      c=Color.web(str);
    }
    buf.position(buf.limit());
    colorNames.put(c,str);
    nameColors.put(str,c);
    return c;
  }
 catch (  IllegalArgumentException e) {
    ParseException pe=new ParseException("not a color:" + buf,buf.position());
    pe.initCause(e);
    throw pe;
  }
}
