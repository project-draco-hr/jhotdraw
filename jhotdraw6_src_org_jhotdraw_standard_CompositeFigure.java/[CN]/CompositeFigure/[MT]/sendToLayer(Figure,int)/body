{
  if (fFigures.contains(figure)) {
    if (layerNr >= fFigures.size()) {
      layerNr=fFigures.size() - 1;
    }
    Figure layerFigure=getFigureFromLayer(layerNr);
    int layerFigureZValue=layerFigure.getZValue();
    int figureLayer=getLayer(figure);
    if (figureLayer < layerNr) {
      assignFiguresToPredecessorZValue(figureLayer + 1,layerNr);
    }
 else     if (figureLayer > layerNr) {
      assignFiguresToSuccessorZValue(layerNr,figureLayer - 1);
    }
    fFigures.removeElement(figure);
    fFigures.insertElementAt(figure,layerNr);
    figure.setZValue(layerFigureZValue);
    figure.changed();
  }
}
