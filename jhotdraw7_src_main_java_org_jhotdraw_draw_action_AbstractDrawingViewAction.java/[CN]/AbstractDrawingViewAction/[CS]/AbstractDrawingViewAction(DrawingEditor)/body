{
  this.editor=editor;
  editor.addPropertyChangeListener(new PropertyChangeListener(){
    public void propertyChange(    PropertyChangeEvent evt){
      if (evt.getPropertyName() == DrawingEditor.ACTIVE_VIEW_PROPERTY) {
        if (evt.getOldValue() != null) {
          DrawingView view=((DrawingView)evt.getOldValue());
          view.removePropertyChangeListener(propertyChangeHandler);
        }
        if (evt.getNewValue() != null) {
          DrawingView view=((DrawingView)evt.getNewValue());
          view.addPropertyChangeListener(propertyChangeHandler);
          updateEnabledState();
        }
      }
    }
  }
);
}
