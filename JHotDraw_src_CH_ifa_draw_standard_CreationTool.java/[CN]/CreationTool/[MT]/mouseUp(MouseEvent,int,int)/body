{
  if (getCreatedFigure().isEmpty()) {
    drawing().remove(getAddedFigure());
    setUndoActivity(null);
  }
 else {
    setUndoActivity(createUndoActivity());
    getUndoActivity().setAffectedFigures(new SingleFigureEnumerator(getAddedFigure()));
  }
  fCreatedFigure=null;
  setAddedFigure(null);
  editor().toolDone();
}
