{
  final BezierFigure f=getOwner();
  oldNode=f.getNode(index);
switch (evt.getKeyCode()) {
case KeyEvent.VK_UP:
    f.willChange();
  f.setPoint(index,new Point2D.Double(oldNode.x[0],oldNode.y[0] - 1d));
f.changed();
view.getDrawing().fireUndoableEditHappened(new BezierNodeEdit(f,index,oldNode,f.getNode(index)));
evt.consume();
break;
case KeyEvent.VK_DOWN:
f.willChange();
f.setPoint(index,new Point2D.Double(oldNode.x[0],oldNode.y[0] + 1d));
f.changed();
view.getDrawing().fireUndoableEditHappened(new BezierNodeEdit(f,index,oldNode,f.getNode(index)));
evt.consume();
break;
case KeyEvent.VK_LEFT:
f.willChange();
f.setPoint(index,new Point2D.Double(oldNode.x[0] - 1d,oldNode.y[0]));
f.changed();
view.getDrawing().fireUndoableEditHappened(new BezierNodeEdit(f,index,oldNode,f.getNode(index)));
evt.consume();
break;
case KeyEvent.VK_RIGHT:
f.willChange();
f.setPoint(index,new Point2D.Double(oldNode.x[0] + 1d,oldNode.y[0]));
f.changed();
view.getDrawing().fireUndoableEditHappened(new BezierNodeEdit(f,index,oldNode,f.getNode(index)));
evt.consume();
break;
}
}
