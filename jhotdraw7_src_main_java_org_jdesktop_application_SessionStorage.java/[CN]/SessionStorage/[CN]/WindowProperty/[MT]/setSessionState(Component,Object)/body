{
  checkComponent(c);
  if ((state != null) && !(state instanceof WindowState)) {
    throw new IllegalArgumentException("invalid state");
  }
  Window w=(Window)c;
  if (!w.isLocationByPlatform() && (state != null)) {
    WindowState windowState=(WindowState)state;
    Rectangle gcBounds0=windowState.getGraphicsConfigurationBounds();
    int sc0=windowState.getScreenCount();
    GraphicsConfiguration gc=c.getGraphicsConfiguration();
    Rectangle gcBounds1=(gc == null) ? null : gc.getBounds();
    int sc1=getScreenCount();
    if ((gcBounds0 != null) && (gcBounds0.equals(gcBounds1)) && (sc0 == sc1)) {
      w.setBounds(windowState.getBounds());
    }
    if (w instanceof Frame) {
      ((Frame)w).setExtendedState(windowState.getFrameState());
    }
  }
}
