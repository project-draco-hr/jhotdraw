{
  checkComponent(c);
  if (!(state instanceof TableState)) {
    throw new IllegalArgumentException("invalid state");
  }
  JTable table=(JTable)c;
  int[] columnWidths=((TableState)state).getColumnWidths();
  if (table.getColumnCount() == columnWidths.length) {
    for (int i=0; i < columnWidths.length; i++) {
      if (columnWidths[i] != -1) {
        TableColumn tc=table.getColumnModel().getColumn(i);
        if (tc.getResizable()) {
          tc.setPreferredWidth(columnWidths[i]);
        }
      }
    }
  }
}
