{
  Point2D.Double p=viewToDrawing(new Point(e.getX(),e.getY()));
  Figure c=null;
  if (getStartConnector() == null) {
    c=findSource(p,getDrawing());
  }
 else {
    c=findTarget(p,getDrawing());
  }
  Connector cc=null;
  if (c != null) {
    cc=findConnector(p,c,prototype);
  }
  if (cc != getTargetConnector()) {
    setTargetConnector(cc);
  }
  if (c != getTargetFigure()) {
    setTargetFigure(c);
    Connector targetConnector=getTargetConnector();
  }
}
