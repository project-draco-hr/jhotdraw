{
  String id=getId(object);
  if (id == null) {
    if (object instanceof StyleableFigure) {
      StyleableFigure f=(StyleableFigure)object;
      id=f.get(StyleableFigure.ID);
      if (id != null && getObject(id) == null) {
        putId(object,id);
      }
 else {
        id=super.createId(object,f.getTypeSelector().toLowerCase());
      }
    }
 else {
      id=super.createId(object);
    }
  }
  return id;
}
