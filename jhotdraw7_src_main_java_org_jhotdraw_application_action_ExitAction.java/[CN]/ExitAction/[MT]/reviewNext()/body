{
  int unsavedProjectsCount=0;
  DocumentView documentToBeReviewed=null;
  for (  DocumentView p : getApplication().getViews()) {
    if (p.isModified()) {
      if (p.isEnabled()) {
        documentToBeReviewed=p;
      }
      unsavedProjectsCount++;
    }
  }
  if (unsavedProjectsCount == 0) {
    doExit();
  }
 else   if (documentToBeReviewed != null) {
    unsavedProject=documentToBeReviewed;
    reviewChanges();
  }
 else {
    getApplication().setEnabled(true);
  }
}
