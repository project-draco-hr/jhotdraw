{
  String str=buf.toString().trim();
  CssColor c;
  if (optional && "none".equals(str)) {
    c=null;
    buf.position(buf.limit());
  }
 else {
    CssTokenizerInterface tt=new CssTokenizer(new StringReader(buf.toString()));
    tt.setSkipWhitespaces(true);
    c=parseColor(tt);
    tt.skipWhitespace();
    buf.position(buf.position() + tt.getStartPosition());
  }
  return c;
}
