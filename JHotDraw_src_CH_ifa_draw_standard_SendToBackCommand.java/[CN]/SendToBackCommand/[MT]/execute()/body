{
  setUndoActivity(createUndoActivity());
  getUndoActivity().setAffectedFigures(new ReverseFigureEnumerator(view().selectionZOrdered()));
  FigureEnumeration fe=getUndoActivity().getAffectedFigures();
  while (fe.hasMoreElements()) {
    view().drawing().sendToBack(fe.nextFigure());
  }
  view().checkDamage();
}
