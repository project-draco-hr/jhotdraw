{
  ResourceBundleUtil labels=ResourceBundleUtil.getLAFBundle("org.jhotdraw.application.Labels");
  JMenu m;
  JMenuItem mi;
  final JMenu openRecentMenu;
  m=new JMenu();
  labels.configureMenu(m,"file");
  mi=m.add(getAction(NewAction.ID));
  mi.setIcon(null);
  mi=m.add(getAction(OpenAction.ID));
  mi.setIcon(null);
  openRecentMenu=new JMenu();
  labels.configureMenu(openRecentMenu,"openRecent");
  openRecentMenu.setIcon(null);
  openRecentMenu.add(getAction(ClearRecentFilesAction.ID));
  updateOpenRecentMenu(openRecentMenu);
  m.add(openRecentMenu);
  m.addSeparator();
  mi=m.add(getAction(CloseAction.ID));
  mi.setIcon(null);
  mi=m.add(getAction(SaveAction.ID));
  mi.setIcon(null);
  mi=m.add(getAction(SaveAsAction.ID));
  mi.setIcon(null);
  if (getAction(ExportAction.ID) != null) {
    mi=m.add(getAction(ExportAction.ID));
    mi.setIcon(null);
  }
  if (getAction(PrintAction.ID) != null) {
    m.addSeparator();
    mi=m.add(getAction(PrintAction.ID));
    mi.setIcon(null);
  }
  addPropertyChangeListener(new PropertyChangeListener(){
    public void propertyChange(    PropertyChangeEvent evt){
      String name=evt.getPropertyName();
      if (name == "recentFiles") {
        updateOpenRecentMenu(openRecentMenu);
      }
    }
  }
);
  return m;
}
