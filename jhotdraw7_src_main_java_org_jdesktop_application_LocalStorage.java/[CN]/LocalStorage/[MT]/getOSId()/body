{
  PrivilegedAction<String> doGetOSName=new PrivilegedAction<String>(){
    public String run(){
      return System.getProperty("os.name");
    }
  }
;
  OSId id=OSId.UNIX;
  String osName=AccessController.doPrivileged(doGetOSName);
  if (osName != null) {
    if (osName.toLowerCase().startsWith("mac os x")) {
      id=OSId.OSX;
    }
 else     if (osName.contains("Windows")) {
      id=OSId.WINDOWS;
    }
  }
  return id;
}
