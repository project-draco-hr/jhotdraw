{
  checkBasics("openOutputFile");
  URL fileURL=fileNameToURL(fileName);
  try {
    FileContents fc=null;
    try {
      fc=ps.get(fileURL);
    }
 catch (    FileNotFoundException e) {
      long maxSizeRequest=131072L;
      long maxSize=ps.create(fileURL,maxSizeRequest);
      if (maxSize >= maxSizeRequest) {
        fc=ps.get(fileURL);
      }
    }
    if ((fc != null) && (fc.canWrite())) {
      return new BufferedOutputStream(fc.getOutputStream(true));
    }
 else {
      throw new IOException("unable to create FileContents object");
    }
  }
 catch (  Exception e) {
    throw new LSException("openOutputFile \"" + fileName + "\" failed",e);
  }
}
