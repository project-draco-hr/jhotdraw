{
  HashSet<Figure> todoNext=new HashSet<>();
  for (  Figure figure : todo) {
    for (    Figure c : figure.getDependentFigures()) {
      if (done.add(c)) {
        fire(DrawingModelEvent.layoutInvalidated(this,c));
        todoNext.add(c);
      }
    }
  }
  if (!todoNext.isEmpty()) {
    fireLayoutInvalidatedForFiguresConnectedWithTodo(todoNext,done);
  }
}
