{
  View v=unsavedView;
  if (v.getURI() == null) {
    URIChooser chooser=getChooser(v);
    Optional<URI> uri=Optional.empty();
    Outer:     while (true) {
      uri=chooser.showDialog(v.getNode());
      if (uri.isPresent() && !app.getModel().isAllowMultipleViewsPerURI()) {
        for (        View vi : app.views()) {
          if (vi != v && v.getURI().equals(uri.get())) {
            Alert alert=new Alert(Alert.AlertType.INFORMATION,"You can not save to a file which is already open.");
            alert.showAndWait();
            continue Outer;
          }
        }
      }
      break;
    }
    if (!uri.isPresent()) {
      unsavedView.removeDisabler(this);
      if (oldFocusOwner != null) {
        oldFocusOwner.requestFocus();
      }
      getApplication().removeDisabler(this);
    }
 else {
      saveToFile(uri.get(),chooser);
    }
  }
 else {
    saveToFile(v.getURI(),null);
  }
}
