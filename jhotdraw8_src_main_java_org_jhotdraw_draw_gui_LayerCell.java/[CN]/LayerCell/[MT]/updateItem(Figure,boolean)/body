{
  super.updateItem(item,empty);
  if (empty || item == null) {
    setText(null);
    setGraphic(null);
    this.item=null;
  }
 else {
    isUpdating=true;
    this.item=item;
    if (isEditing()) {
      if (textField == null) {
        textField=createTextField();
      }
      if (textField != null) {
        textField.setText(getItemText());
      }
      setText(null);
      if (textField.getParent() == null) {
        node.getChildren().add(textField);
      }
    }
 else {
      setText(getItemText());
      if (textField != null && textField.getParent() != null) {
        node.getChildren().remove(textField);
      }
    }
    setGraphic(node);
    Integer count=item.get(LayersInspector.SELECTION_COUNT);
    selectionLabel.setText(count == null ? "" : "(" + count.toString() + ")");
    visibleCheckBox.setSelected(item.get(HideableFigure.VISIBLE));
    lockedCheckBox.setSelected(item.get(Figure.LOCKED));
    isUpdating=false;
  }
}
