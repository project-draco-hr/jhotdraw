{
  try {
    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
  }
 catch (  Throwable e) {
  }
  Container c=getContentPane();
  c.setLayout(new BoxLayout(c,BoxLayout.Y_AXIS));
  String[] labels=getAppletInfo().split("\n");
  for (int i=0; i < labels.length; i++) {
    c.add(new JLabel((labels[i].length() == 0) ? " " : labels[i]));
  }
  new Worker(){
    public Object construct(){
      Object result=null;
      InputStream in=null;
      try {
        if (getParameter("data") != null) {
          in=new ByteArrayInputStream(getParameter("data").getBytes("UTF8"));
        }
 else         if (getParameter("datafile") != null) {
          URL url=new URL(getDocumentBase(),getParameter("datafile"));
          in=url.openConnection().getInputStream();
        }
        if (in != null) {
          Drawing drawing=createDrawing();
          drawing.getInputFormats().get(0).read(in,drawing);
          result=drawing;
        }
      }
 catch (      Throwable t) {
        result=t;
      }
 finally {
        if (in != null) {
          try {
            in.close();
          }
 catch (          IOException ex) {
          }
        }
      }
      return result;
    }
    public void finished(    Object result){
      if (result instanceof Throwable) {
        ((Throwable)result).printStackTrace();
      }
      Container c=getContentPane();
      c.setLayout(new BorderLayout());
      c.removeAll();
      c.add(drawingPanel=new SVGDrawingPanel());
      initComponents();
      if (result != null) {
        if (result instanceof Drawing) {
          setDrawing((Drawing)result);
        }
 else         if (result instanceof Throwable) {
          getDrawing().add(new SVGTextFigure(result.toString()));
          ((Throwable)result).printStackTrace();
        }
      }
      c.validate();
    }
  }
.start();
}
