{
  if (tolerance == 0) {
    return node.contains(point);
  }
  if (node instanceof Line) {
    Line line=(Line)node;
    boolean contains=Geom.lineContainsPoint(line.getStartX(),line.getStartY(),line.getEndX(),line.getEndY(),point.getX(),point.getY(),tolerance);
    return contains;
  }
 else   if (node instanceof Rectangle) {
    return Geom.contains(node.getBoundsInLocal(),point,tolerance);
  }
 else   if (node instanceof Shape) {
    return node.contains(point);
  }
 else   if (node instanceof Group) {
    if (Geom.contains(node.getBoundsInLocal(),point,tolerance)) {
      for (      Node child : ((Group)node).getChildren()) {
        double localTolerance=child.parentToLocal(0,0).distance(child.parentToLocal(tolerance,tolerance));
        if (contains(child,child.parentToLocal(point),localTolerance)) {
          return true;
        }
      }
    }
    return false;
  }
 else {
    return Geom.contains(node.getBoundsInLocal(),point,tolerance);
  }
}
