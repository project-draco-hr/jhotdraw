{
  ColorSystem oldValue=system;
  system=newValue;
  componentModels=new DefaultBoundedRangeModel[system.getComponentCount()];
  for (int i=0; i < componentModels.length; i++) {
    componentModels[i]=new DefaultBoundedRangeModel();
    final int componentIndex=i;
    componentModels[i].addChangeListener(new ChangeListener(){
      public void stateChanged(      ChangeEvent e){
        fireColorChanged(componentIndex);
        fireStateChanged();
      }
    }
);
  }
}
