{
  fire(DrawingModelEvent.subtreeStructureChanged(this,figure));
  for (  Figure f : figure.preorderIterable()) {
    if (f instanceof ConnectableFigure) {
      ConnectableFigure connectable=(ConnectableFigure)f;
      for (      ConnectionFigure connection : connectable.connections()) {
        fire(DrawingModelEvent.nodeChanged(this,connection));
      }
    }
  }
  fireInvalidated();
}
