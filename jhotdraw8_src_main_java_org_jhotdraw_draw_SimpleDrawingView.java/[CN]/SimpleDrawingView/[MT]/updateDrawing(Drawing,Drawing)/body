{
  if (oldValue != null) {
    nodeToFigureMap.clear();
    figureToNodeMap.clear();
    drawingPane.getChildren().clear();
    dirtyFigures.clear();
    model.setRoot(null);
    if (boundsProperty != null) {
      boundsProperty.removeListener(invalidationListener);
      boundsProperty.unbind();
      boundsProperty=null;
    }
  }
  if (newValue != null) {
    handleFigureAdded(newValue);
    drawingPane.getChildren().add(getNode(newValue));
    updateView();
    model.setRoot(newValue);
    boundsProperty=Drawing.BOUNDS.propertyAt(newValue.properties());
    boundsProperty.addListener(invalidationListener);
  }
}
