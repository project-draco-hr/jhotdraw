{
  getModel().validate();
  for (  Figure f : dirtyFigureNodes) {
    f.updateNode(this,getNode(f));
  }
  dirtyFigureNodes.clear();
  for (  Figure f : dirtyHandles) {
    List<Handle> hh=handles.get(f);
    if (hh != null) {
      for (      Handle h : hh) {
        h.updateNode(this);
      }
    }
  }
  dirtyHandles.clear();
  for (  Handle h : secondaryHandles) {
    h.updateNode(this);
  }
}
