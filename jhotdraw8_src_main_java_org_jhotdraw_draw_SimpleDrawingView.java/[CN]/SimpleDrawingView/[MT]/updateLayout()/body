{
  Bounds bounds=drawingPane.getLayoutBounds();
  double f=getZoomFactor();
  double x=bounds.getMinX() * f;
  double y=bounds.getMinY() * f;
  double w=bounds.getWidth() * f;
  double h=bounds.getHeight() * f;
  drawingPane.setTranslateX(max(0,-x));
  drawingPane.setTranslateY(max(0,-y));
  toolPane.resize(w,h);
  toolPane.layout();
  stackPane.setPrefSize(w,h);
  invalidateWorldViewTransforms();
  invalidateHandleNodes();
}
