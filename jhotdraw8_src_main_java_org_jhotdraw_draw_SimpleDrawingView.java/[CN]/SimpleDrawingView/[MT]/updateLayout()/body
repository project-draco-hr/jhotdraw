{
  Bounds bounds=drawingPane.getLayoutBounds();
  double f=getZoomFactor();
  double x=bounds.getMinX() * f;
  double y=bounds.getMinY() * f;
  double w=min(16384,bounds.getWidth() * f);
  double h=min(16384,bounds.getHeight() * f);
  drawingPane.setTranslateX(max(0,-x));
  drawingPane.setTranslateY(max(0,-y));
  drawingSubScene.setWidth(w);
  drawingSubScene.setHeight(h);
  overlaysSubScene.setWidth(w);
  overlaysSubScene.setHeight(h);
  toolPane.resize(w,h);
  toolPane.layout();
  invalidateDrawingViewTransforms();
}
