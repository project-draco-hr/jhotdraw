{
  for (  Map.Entry<Figure,List<Handle>> entry : handles.entrySet()) {
    for (    Handle h : entry.getValue()) {
      h.dispose();
    }
  }
  nodeToHandleMap.clear();
  handles.clear();
  handlesPane.getChildren().clear();
  dirtyHandles.clear();
  createHandles(handles);
  for (  Map.Entry<Figure,List<Handle>> entry : handles.entrySet()) {
    dirtyHandles.add(entry.getKey());
    for (    Handle handle : entry.getValue()) {
      Node n=handle.getNode();
      nodeToHandleMap.put(n,handle);
      handlesPane.getChildren().add(n);
      handle.updateNode(this);
    }
  }
}
