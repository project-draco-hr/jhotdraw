{
  Color bg=getBackground();
  if (drawing != null && (drawing.get(CANVAS_WIDTH) == null || drawing.get(CANVAS_HEIGHT) == null)) {
    bg=(drawing.get(CANVAS_FILL_COLOR) != null) ? drawing.get(CANVAS_FILL_COLOR) : (CANVAS_FILL_COLOR.getDefaultValue() != null ? CANVAS_FILL_COLOR.getDefaultValue() : bg);
  }
  g.setColor(bg);
  g.fillRect(0,0,getWidth(),getHeight());
}
