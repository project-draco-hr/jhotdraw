{
  if (handlesAreValid) {
    handlesAreValid=false;
    Rectangle invalidatedArea=null;
    for (    Handle handle : selectionHandles) {
      handle.removeHandleListener(this);
      if (invalidatedArea == null) {
        invalidatedArea=handle.getDrawingArea();
      }
 else {
        invalidatedArea.add(handle.getDrawingArea());
      }
      handle.dispose();
    }
    selectionHandles.clear();
    secondaryHandles.clear();
switch (selectedFigures.size()) {
case 0:
      if (invalidatedArea != null) {
        repaint(invalidatedArea);
      }
    break;
case 1:
  if (invalidatedArea != null) {
    repaint(invalidatedArea);
  }
break;
default :
repaint();
break;
}
}
}
