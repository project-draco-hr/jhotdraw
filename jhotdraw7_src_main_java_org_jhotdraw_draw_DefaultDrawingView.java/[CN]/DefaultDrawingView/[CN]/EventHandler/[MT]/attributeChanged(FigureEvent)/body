{
  if (e.getSource() == drawing) {
    AttributeKey a=e.getAttribute();
    if (a.equals(CANVAS_HEIGHT) || a.equals(CANVAS_WIDTH)) {
      validateViewTranslation();
      repaint();
    }
 else     if (a.equals(CANVAS_FILL_COLOR) || a.equals(CANVAS_FILL_OPACITY)) {
      repaint();
    }
 else {
      repaintDrawingArea(e.getInvalidatedArea());
    }
  }
 else {
    repaintDrawingArea(e.getInvalidatedArea());
  }
}
