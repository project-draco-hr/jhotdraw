{
  if (oldValue != null) {
    heightField.textProperty().unbind();
    widthField.textProperty().unbind();
    xField.textProperty().unbind();
    yField.textProperty().unbind();
    angleField.textProperty().unbind();
    drawGridCheckBox.selectedProperty().unbind();
    snapToGridCheckBox.selectedProperty().unbind();
  }
  if (newValue != null) {
    GridConstrainer gc;
    if (newValue.getConstrainer() instanceof GridConstrainer) {
      gc=(GridConstrainer)newValue.getConstrainer();
    }
 else {
      gc=new GridConstrainer(0,0,10,10,45);
      newValue.setConstrainer(gc);
    }
    StringConverter<Number> cc=new StringConverterConverterWrapper<>(new XmlNumberConverter());
    heightField.textProperty().bindBidirectional(gc.heightProperty(),cc);
    widthField.textProperty().bindBidirectional(gc.widthProperty(),cc);
    xField.textProperty().bindBidirectional(gc.xProperty(),cc);
    yField.textProperty().bindBidirectional(gc.yProperty(),cc);
    angleField.textProperty().bindBidirectional(gc.angleProperty(),cc);
    drawGridCheckBox.selectedProperty().bindBidirectional(gc.drawGridProperty());
    snapToGridCheckBox.selectedProperty().bindBidirectional(gc.snapToGridProperty());
  }
}
