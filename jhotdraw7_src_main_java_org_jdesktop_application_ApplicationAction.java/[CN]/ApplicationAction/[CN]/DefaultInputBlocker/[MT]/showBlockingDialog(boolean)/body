{
  if (f) {
    if (modalDialog != null) {
      String msg=String.format("unexpected InputBlocker state [%s] %s",f,this);
      logger.warning(msg);
      modalDialog.dispose();
    }
    modalDialog=createBlockingDialog();
    Runnable doShowDialog=new Runnable(){
      public void run(){
        modalDialog.setVisible(true);
      }
    }
;
    EventQueue.invokeLater(doShowDialog);
  }
 else {
    if (modalDialog != null) {
      modalDialog.dispose();
      modalDialog=null;
    }
 else {
      String msg=String.format("unexpected InputBlocker state [%s] %s",f,this);
      logger.warning(msg);
    }
  }
}
